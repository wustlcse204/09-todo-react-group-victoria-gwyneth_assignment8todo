{"version":3,"sources":["todo.js","NewTodo.js","App.js","index.js"],"names":["Todo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","check","id","event","currComponent","target","parentNode","xhttp4","XMLHttpRequest","onreadystatechange","readyState","status","setState","completed","open","setRequestHeader","send","JSON","stringify","react_default","a","createElement","className","onClick","delete","type","text","Component","NewTodo","_React$createElement","placeholder","defineProperty","input","onChange","addToDos","App","state","todos","componentDidMount","bind","assertThisInitialized","sortAlphabetically","xhttp","todosResponse","parse","responseText","preventDefault","xhttp2","value","toConsumableArray","concat","console","log","deleting","xhttp3","remainingTodos","filter","todo","sort","b","localeCompare","_this2","class","src_NewTodo_0","map","src_todo_0","key","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.ee3661e5.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './todo.css';\n\nclass Todo extends Component {\n  constructor(props){\n    super(props);\n    this.check = {id: this.props.id};\n  }\n\n  check(event) {\n    var currComponent= this;\n    var check = event.target.parentNode.id;\n    var value = {completed: true};\n    var xhttp4 = new XMLHttpRequest();\n    xhttp4.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n        // save new Todo to check\n        currComponent.setState({completed: true});\n      }\n    }\n    xhttp4.open(\"PUT\", \"https://cse204.work/todos/\" + check, true);\n    xhttp4.setRequestHeader(\"Content-type\", \"application/json\");\n    xhttp4.setRequestHeader(\"x-api-key\", \"e678e1-b3de89-352f09-13b587-042016\");\n    xhttp4.send(JSON.stringify(value));\n  }\n\n  render() {\n    var className = \"todo\";\n    this.check = {completed: this.props.completed};\n    if (this.check.completed) {\n      className = \"todo completed\";\n    }\n    return (\n        <div id= {this.props.id}> \n            <button className=\"button\" onClick={this.props.delete}>DELETE</button>\n            <input id= \"checked\" className=\"checkbox\" type=\"checkbox\" onClick={this.check}></input>\n            <p>{this.props.text}</p>\n        </div>\n        \n    );\n  }\n}\n\nexport default Todo;\n","import React, { Component } from 'react';\nimport './NewTodo.css';\n\nclass NewTodo extends Component {\n  render() {\n    return (\n      <div>\n        {/* <input type=\"text\" id=\"addedTask\" placeholder=\"Type in your To-Do's here!\"></input>  */}\n        <input  placeholder=\"Type in your To-Do's here!\" id=\"addedTask\" placeholder=\"Type in your To-Do's here!\" value={this.props.input} onChange={this.props.onChange} />\n        <button id=\"submit\" className=\"submit\" onClick={this.props.addToDos}>Submit</button>\n      </div>\n    );\n  }\n}\n\nexport default NewTodo;","import React, { Component } from 'react';\nimport './App.css';\nimport Todo from './todo'; \nimport NewTodo from './NewTodo';\n\nclass App extends Component {\n\n  // SAVE POINT 9:17 PM\n\n  //CONSTRUCTOR METHOD\n  constructor() {\n    super();\n    // Don't call this.setState() here!\n    this.state = { todos: [], input:' '}; //set todo items as an array\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.addToDos = this.addToDos.bind(this);\n    this.delete = this.delete.bind(this); \n    this.onChange = this.onChange.bind(this); \n    this.sortAlphabetically = this.sortAlphabetically.bind(this);\n  }\n\n\n  componentDidMount(){\n    var currComponent = this;\n    //Make initial AJAX call to list Todos -- CHECK!! \n    var xhttp = new XMLHttpRequest();\n \n    xhttp.onreadystatechange = function() { //process the AJAX response\n      if (this.readyState == 4 && this.status == 200) { //checkMark to see if it's working\n        //returns an array of objects as JSON (each object will be a ToDo that has been previously submitted with my API key) JSON.parse() parses this JSON into a usable array\n        var todosResponse = JSON.parse(this.responseText); //NOTE: this array will be empty before we have successfully submitted any ToDos\n        currComponent.setState({todos: todosResponse});\n      }\n    };\n\n    xhttp.open(\"GET\", \"https://cse204.work/todos\", true); //AJAX call GET request to cse 204 API \n    xhttp.setRequestHeader(\"x-api-key\",\"e678e1-b3de89-352f09-13b587-042016\"); //API key must be sent as an x-api-key header\n    xhttp.send();\n  }\n\n  addToDos(event) {\n    event.preventDefault();\n    var xhttp2 = new XMLHttpRequest();\n    var currComponent = this; //used currComponent instead of self \n    const newText = this.state.input;\n    var value = { text: newText };\n    //Grab input data from new todo?\n\n    xhttp2.onreadystatechange = function() {\n      // IF READYSTATE ****\n      //if SUCCESSFUL, return a single object containing the ToDo item that has been saved\n      if (this.readyState == 4 && this.status == 200) {     \n\n        //data = JSON.parse(this.responseText);\n        //this.setState({ todos: [data, ...this.state.todos] }) \n        //change input state?\n\n        currComponent.setState({\n          todos: [...currComponent.state.todos, JSON.parse(this.responseText)]\n        })\n        // clear the input field\n        currComponent.setState({ input: '' });\n      }\n\n      else if (this.readyState == 4) { //if UNSUCCESSFUL, this POST request will return a text error\n        console.log(this.responseText);\n      }\n    };\n  \n    xhttp2.open(\"POST\", \"https://cse204.work/todos\", true);\n    xhttp2.setRequestHeader(\"Content-type\", \"application/json\");\n    xhttp2.setRequestHeader(\"x-api-key\", \"e678e1-b3de89-352f09-13b587-042016\");\n\n    xhttp2.send(JSON.stringify(value)); \n\n    // read the input value from state\n    const newTodoText = this.state.input;\n    // Do AJAX\n    // Inside your AJAX success\n    this.state.input = '';\n  }\n\n\n  //ON CHANGE EVENT TO UPDATE STATE WHEN THE INPUT IS CHANGED\n  onChange(event){\n    //set the state to the value of the input \n    this.setState({\n      input: event.target.value\n    });\n  }\n\n  delete(event){\n    event.preventDefault(); \n    var currComponent = this;\n    var deleting = event.target.parentNode.id;\n    var xhttp3 = new XMLHttpRequest();\n\n    xhttp3.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n        // You need the id of the todo you want to delete as a variable.\n        const remainingTodos = currComponent.state.todos.filter((todo) => {\n          // Looping through all todos, if the id of the current todo DOES NOT equal the id of the todo we want to delete, keep it\n          if (todo.id !== deleting) {\n            return todo;\n          }\n        });\n        // Update state with filtered list using this.setState();\n        currComponent.setState({ todos: remainingTodos });\n      }\n    };\n\n    xhttp3.open(\"DELETE\", \"https://cse204.work/todos/\" + deleting, true);\n    xhttp3.setRequestHeader(\"x-api-key\", \"e678e1-b3de89-352f09-13b587-042016\");\n    xhttp3.send();\n\n  } \n\n  //SORT EVENT HANDLER-- sorts array alphabetically using localCompare\n  sortAlphabetically(event) {\n    var todos = this.state.todos;\n    todos.sort(function (a, b) {\n      return a.text.localeCompare(b.text);\n    });\n    this.setState({ todos: todos })\n  }\n\n\n  render() {\n    return (\n      <div id=\"header\" class=\"header\">\n\n            <div className=\"title\">\n                <p><h1> M Y &nbsp;&nbsp;T O - D O &nbsp;&nbsp;L I S T </h1></p>\n            </div>\n\n            <div className=\"introduction\">\n                <p><h1>Welcome to Victoria and Gwyneth's To-Do list. Type in your task and you can check it off once completed, or delete it from the list.</h1></p>\n            </div>\n        \n            <div id=\"border\"> </div>\n            <section id=\"containerToDos\"> \n\n            {/* //CHECK IF THIS LINE IS RIGHT */}\n            <NewTodo addToDos={this.addToDos} onChange={this.onChange} input={this.state.input}/>\n            <button id = \"sort\" className=\"sort\" onClick={this.sortAlphabetically}>Sort By Alphabetical Order</button>\n\n            {/* /* // STEP 4 : Render Todo componenent for each Todo item\n            // USE MAP FUNCTION TO ITERATE OVER TODO ARRAY defined above */}\n\n            {\n              this.state.todos.map((todo) => \n                <Todo key={todo.id} id={todo.id} text={todo.text} delete={this.delete} completed={todo.completed}/> \n              )\n            }\n\n            </section>\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}